function testWebP(t){var e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function row(t,e=""){return`<div class="row" style="${e}">${t}</div>`}function col(t){return`<div class="col-sm">${t}</div>`}function css(t={}){if("string"==typeof t)return t;return Object.keys(t).map(e=>`${e}: ${t[e]}`).join(";")}function block(t){return`\n  <form name="${t}">\n  <h5>${t}</h5>\n  <div class="form-group">\n    <input class="form-control form-control-sm" name="value" placeholder="value">\n  </div>\n  <div class="form-group">\n    <input class="form-control form-control-sm" name="styles" placeholder="styles">\n  </div>\n  <button type="submit" class="btn btn-primary btn-sm">Добавить</button>\n</form>\n<hr />\n   `}testWebP((function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));class Block{constructor(t,e){this.value=t,this.options=e}toHTML(){throw new Error("Метод toHTML должен быть реализован")}}class TitleBlock extends Block{constructor(t,e){super(t,e)}toHTML(){const{tag:t="h1",styles:e}=this.options;return row(col(`<${t}>${this.value}</${t}>`),css(e))}}class ImageBlock extends Block{constructor(t,e){super(t,e)}toHTML(){const{imageStyles:t,alt:e="",styles:s}=this.options;return row(`<img src="${this.value}" alt='${e}' style='${css(t)}'/>`,css(this.options.styles))}}class ColumnsBlock extends Block{constructor(t,e){super(t,e)}toHTML(){const t=this.value.map(col).join("");return row(t,css(this.options.styles))}}class TextBlock extends Block{constructor(t,e){super(t,e)}toHTML(){return row(col(`<p>${this.value}</p>`),css(this.options.styles))}}const model=[new TitleBlock("Конструктор сайтов на чистом JavaScript",{tag:"h2",styles:{background:"linear-gradient(to right, #ff0099, #493240)",color:"#fff","text-align":"center",padding:"1.5rem"}}),new ImageBlock("../image/home-page.jpg",{styles:{padding:"2rem 0",display:"flex","justify-content":"center"},imageStyles:{width:"500px",height:"auto"},alt:"Это картинка"}),new ColumnsBlock(["Приложение на чистом JavaScript, без использования библиотек","Цель: Узнать как работает SOLID и ООП в JavaScript","JavaScript. Создавать любые UI своими руками"],{styles:{background:"linear-gradient(to bottom, #8e2de2, #4a00e0)",padding:"2rem",color:"#fff","font-weight":"bold"}}),new TextBlock("Курс по JavaScript",{styles:{background:"linear-gradient(to left, #f2994a, #f2c94c)",padding:"1rem","font-weight":"bold"}})];class Site{constructor(t){this.$el=document.querySelector(t)}render(t){this.$el.innerHTML="",t.forEach(t=>{this.$el.insertAdjacentHTML("beforeend",t.toHTML())})}}function row(t,e=""){return`<div class="row" style="${e}">${t}</div>`}function col(t){return`<div class="col-sm">${t}</div>`}function css(t={}){if("string"==typeof t)return t;return Object.keys(t).map(e=>`${e}: ${t[e]}`).join(";")}function block(t){return`\n  <form name="${t}">\n  <h5>${t}</h5>\n  <div class="form-group">\n    <input class="form-control form-control-sm" name="value" placeholder="value">\n  </div>\n  <div class="form-group">\n    <input class="form-control form-control-sm" name="styles" placeholder="styles">\n  </div>\n  <button type="submit" class="btn btn-primary btn-sm">Добавить</button>\n</form>\n<hr />\n   `}class Sidebar{constructor(t,e){this.$el=document.querySelector(t),this.update=e,this.init()}init(){this.$el.insertAdjacentHTML("afterbegin",this.template),this.$el.addEventListener("submit",this.add.bind(this))}get template(){return[block("text"),block("title")].join("")}add(t){t.preventDefault();const e=t.target.name,s=t.target.value.value,o=t.target.styles.value,n="text"===e?new TextBlock(s,{styles:o}):new TitleBlock(s,{styles:o});this.update(n),t.target.value.value="",t.target.styles.value=""}}class App{constructor(t){this.model=t}init(){const t=new Site("#site");t.render(this.model);new Sidebar("#panel",e=>{this.model.push(e),t.render(this.model)})}}new App(model).init();